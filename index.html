<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API</title>
</head>

<body>
    <h1>JSON</h1>
    <h3>Javascript object Notation</h3>
    <h5>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Exercitationem hic, corrupti vero, totam fugiat
        dolorem, assumenda tempora repellat dolorum ex nemo. Ducimus ab velit pariatur cum esse voluptatibus
        consequuntur adipisci explicabo nostrum molestiae autem quas quasi distinctio odio quaerat, minima aperiam nobis
        earum fuga! Accusamus sit magnam quasi eaque quaerat ea, sequi consequatur dolores consectetur impedit quoseat
        quas ad vero. Sint
        blanditiis voluptatibus r</h5>
    <ul id="users-container">
    </ul>

    <input id="title" type="text" placeholder="Title"><br>
    <input id="body-input" type="text" placeholder="write for the body"><br>
    <button id="submit-btn">Submit</button>
</body>
<script>
    // const user = {
    //     id: 25, name: "EftyN",
    //     lover: {
    //         Name: "Montu Miyar bow",
    //         age: 26
    //     },
    //     friendAge: [12, 13, 45, 23, 79]
    // };
    // const userJSON = JSON.stringify(user);

    // console.log(userJSON);
    // const userFromJson = JSON.parse(userJSON);
    // console.log(userFromJson);

    // Fetching data from the server**************
    // fetch('https://jsonplaceholder.typicode.com/users')
    //     .then(response => response.json())
    //     .then(json => displayNames(json))
    //     .catch(error => console.log(error))

    // function displayNames(users) {
    //     const userNames = users.map(user => user.name);
    //     const ul = document.getElementById("users-container");
    //     for (i = 0; i < userNames.length; i++) {
    //         const username = userNames[i];
    //         const li = document.createElement("li");
    //         li.innerText = username;
    //         ul.appendChild(li);
    //     }
    // }
    // Posting data to the server******************


    document.getElementById("submit-btn").addEventListener("click", function () {
        const titleText = document.getElementById("title").value;
        const bodyText = document.getElementById("body-input").value;
        const postInfo = { title: titleText, body: bodyText };
        nowPostToServer(postInfo);
    })
    function nowPostToServer(postInfo) {
        fetch('https://jsonplaceholder.typicode.com/posts', {
            method: 'POST',
            body: JSON.stringify(postInfo),
            headers: {
                'Content-type': 'application/json; charset=UTF-8',
            },
        })
            .then((response) => response.json())
            .then((data) => console.log(data))
            .catch(error => alert("Please try again later"));
    }





</script>

</html>